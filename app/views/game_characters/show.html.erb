<div ng-app="menu">
<h1><%= @game_character.name %> <%= link_to "Refresh", signin_with_fitbit_path, class: "btn btn-info" %></h1>
<table class="table">
  <thead>
    <tr ng-controller="descriptionController">
      <th class="col-sm-2">Level</th>
      <th class="col-sm-2">
        <a ng-mouseover="expDescription = true" ng-mouseleave="expDescription = false">
          <%= image_tag "icons/xp.png", size: "32" %>
        </a>
        <span ng-show="expDescription" class="stat-descriptions">Experience</span>
      </th>
      <th class="col-sm-2">
        <a ng-mouseover="goldDescription = true" ng-mouseleave="goldDescription = false">
          <%= image_tag "icons/coin.png", size: "32" %>
        </a>
        <span ng-show="goldDescription">Gold</span>
      </th>
      <th class="col-sm-2">
        <a ng-mouseover="energyDescription = true" ng-mouseleave="energyDescription = false">
          <%= image_tag "icons/heart.png", size: "32" %>
        </a>
        <span ng-show="energyDescription">Energy</span>
      </th>
      <th class="col-sm-2">
        <a ng-mouseover="strengthDescription = true" ng-mouseleave="strengthDescription = false">
          <%= image_tag "icons/sword.png", size: "32" %>
        </a>
        <span ng-show="strengthDescription">Strength</span>
      </th>
      <th class="col-sm-2">
        <a ng-mouseover="constitutionDescription = true" ng-mouseleave="constitutionDescription = false">
          <%= image_tag "icons/shield.png", size: "32" %>
        </a>
        <span ng-show="constitutionDescription">Constitution</span>
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><%= @game_character.level %></td>
      <td><%= @game_character.xp %></td>
      <td><%= @game_character.gold %></td>
      <td><%= @game_character.energy %></td>
      <% if @game_character.xp > $strength_xp_cost %>
        <td><%= parse_strength(@game_character) %> <%= link_to fa_icon("plus-square") + " Exp cost: #{$strength_xp_cost}", user_game_character_add_strength_path(current_user, @game_character), method: :put %> </td>
      <% else %>
        <td><%= parse_strength(@game_character) %></td>
      <% end %>
      <% if @game_character.xp > $constitution_xp_cost %>
        <td><%= parse_constitution(@game_character) %> <%= link_to fa_icon("plus-square") + " Exp cost: #{$constitution_xp_cost}", user_game_character_add_constitution_path(current_user, @game_character), method: :put %> </td>
      <% else %>
        <td><%= parse_constitution(@game_character) %></td>
      <% end %>
    </tr>
  </tbody>
</table>
<div ng-controller="toggleController">
  <button ng-click="toggleInventory()" class="btn btn-secondary">Inventory</button>
  <button ng-click="toggleChart()" class="btn btn-secondary">Chart</button>
  <button ng-click="toggleShop()" class="btn btn-secondary">Shop</button>
  <button ng-click="toggleEnemy()" class="btn btn-secondary">Battle</button>
  <div class="segment" />
    <%= render "inventory" %>
    <%= render "chart" %>
    <%= render "shop" %>
    <%= render "enemy_list" %>
</div>
</div>
